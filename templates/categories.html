{% extends "base.html" %}

{% block content %}
<h1>â™»ï¸ Kategorien & Umweltinfos</h1>

{% for name, data in categories.items() %}
<div class="card">

  <h3>{{ name }}</h3>

  <p>ğŸŒ {{ data.description | default('Keine Beschreibung verfÃ¼gbar') }}</p>

  <p>ğŸ’¨ <b>COâ‚‚:</b> {{ data.co2 | default('Unbekannt') }}</p>

  <p>â­ <b>Punkte:</b> {{ data.points | default(0) }}</p>

  <p>â™»ï¸ <b>Tipp:</b> {{ data.tip | default('Kein Tipp verfÃ¼gbar') }}</p>

  <p>
    ğŸŒ± <b>Umwelt-Ranking:</b>
    {% if data.score is defined and data.score is integer %}
      {% for i in range(data.score) %}
        â­
      {% endfor %}
    {% else %}
      Kein Ranking verfÃ¼gbar
    {% endif %}
  </p>

  <ul>
    {% if data.materials is defined and data.materials is iterable %}
      {% for material in data.materials %}
        {% if material.present is defined %}
          {% if material.present %}
            <li>âœ… {{ material.name | default('Unbekannt') }}</li>
          {% else %}
            <li>âŒ {{ material.name | default('Unbekannt') }}</li>
          {% endif %}
        {% else %}
          <li>â“ {{ material.name | default('Unbekannt') }}</li>
        {% endif %}
      {% endfor %}
    {% else %}
      <li>Keine Materialien verfÃ¼gbar</li>
    {% endif %}
  </ul>

</div>
{% endfor %}
{% endblock %}